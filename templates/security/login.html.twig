{% extends 'base.html.twig' %}

{% block title %}Log in{% endblock %}

{% block body %}
    <div class="w-4/5 sm:w-3/4 lg:w-1/2 xl:w-1/3 mx-auto mt-16 bg-white p-8 shadow-xl rounded-lg">
        <div class="text-center">
            <h1 class="text-4xl font-semibold text-gray-800 pb-8">Login</h1>
        </div>

        {% if error %}
            <div class="alert alert-danger text-red-500 text-center mb-6">
                {{ error.messageKey|trans(error.messageData, 'security') }}
            </div>
        {% endif %}

        {% if app.user %}
            <div class="mb-6 text-center">
                You are logged in as {{ app.user.username }}, <a href="{{ path('app_logout') }}" class="text-blue-500 hover:underline">Logout</a>
            </div>
        {% endif %}

        <form method="post">
            <!-- Email Input -->
            <div class="mb-6">
                <label for="inputEmail"></label><input
                        type="email"
                        value="{{ last_username }}"
                        name="email"
                        id="inputEmail"
                        class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        placeholder="Email"
                        autocomplete="email"
                        required
                        autofocus
                        aria-labelledby="inputEmail"
                >
            </div>

            <!-- Password Input -->
            <div class="mb-6">
                <label for="inputPassword"></label><input
                        type="password"
                        name="password"
                        id="inputPassword"
                        class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                        autocomplete="current-password"
                        placeholder="Password"
                        required
                        aria-labelledby="inputPassword"
                >
            </div>

            <!-- CSRF Token (Hidden) -->
            <input
                    type="hidden"
                    name="_csrf_token"
                    value="{{ csrf_token('authenticate') }}"
            >

            <!-- Submit Button -->
            <div class="text-center">
                <button
                        class="w-full py-3 bg-blue-500 text-white text-lg font-semibold rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500"
                        type="submit">
                    Sign in
                </button>
            </div>
        </form>
    </div>
{% endblock %}
